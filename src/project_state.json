{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Implement IST dual-confirmation booking model incrementally; current step is to add only backend propertyStatus transition logic with a 24h underConfirmation timeout/revert, explicitly excluding payments and dashboards for now.",
  "architectural_notes": [
    "Implement IST workflow step-by-step; current scope limited to propertyStatus transitions only (no payment logic, no dashboards).",
    "Add time-based rule: underConfirmation expires after 24h and reverts listing to available if not confirmed."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement propertyStatus transition logic: available→visitCompleted→underConfirmation→bookedViaSTYO, with automatic revert to available if not confirmed within 24h",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add backend-only PropertyStatus transition logic for listings with exactly these allowed transitions: #available → #visitCompleted, #visitCompleted → #underConfirmation, #underConfirmation → #bookedViaSTYO. Any other transition attempt must be rejected with an English error message.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Implement the 24-hour timeout rule for #underConfirmation: if a listing remains in #underConfirmation for more than 24 hours without being transitioned to #bookedViaSTYO, it must automatically revert to #available.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Enforce authorization rules for propertyStatus transitions so only the listing owner or an admin can advance the propertyStatus for that listing (auto-revert is system-driven).",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Implement PropertyStatus transition state machine with 24h underConfirmation timeout",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}