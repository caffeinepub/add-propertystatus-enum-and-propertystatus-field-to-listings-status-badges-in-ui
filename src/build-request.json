{
  "kind": "build_request",
  "title": "Backend: Default new Listing.propertyStatus to #available on creation",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-9",
      "text": "Update the backend listing creation logic in `backend/main.mo` so that whenever a new `Listing` record is created, it explicitly sets `propertyStatus = #available`. Ensure this is applied to every code path that constructs and stores a new `Listing` (including user/owner-created listings, public submissions that become listings, and any demo/seed listing creation if present).",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "Update the Listing creation function so that:\npropertyStatus = #available\n\nwhenever a new Listing is created.\n\nDo not modify anything else."
        ]
      },
      "acceptanceCriteria": [
        "Creating a new listing via the existing backend API results in the stored and returned `Listing` having `propertyStatus` equal to `#available`.",
        "All backend code paths that create a new `Listing` set `propertyStatus` explicitly at creation time (no reliance on implicit defaults).",
        "No other listing fields, query behavior, authorization behavior, or frontend behavior are changed."
      ]
    }
  ],
  "constraints": [
    "Do not modify anything other than setting `propertyStatus = #available` at new `Listing` creation time in `backend/main.mo`.",
    "Do not change the `availability` field or its behavior.",
    "Do not add IST dual-confirmation logic or any automatic status transitions."
  ],
  "nonGoals": [
    "Adding UI changes or any frontend updates.",
    "Updating existing listingsâ€™ `propertyStatus` values (this request is only about newly created listings).",
    "Adding new endpoints or changing API shapes beyond ensuring the creation logic sets `propertyStatus`."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}