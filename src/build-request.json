{
  "kind": "build_request",
  "title": "Set default PropertyStatus to #available when creating new listings",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-8",
      "text": "Ensure that every code path that creates a new `Listing` record in `backend/main.mo` explicitly sets `propertyStatus` to `#available` at creation time (so newly created listings never have an unset or non-available initial `propertyStatus`).",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-1"
        ],
        "quotes": [
          "When a new Listing is created, what is the default value of propertyStatus?\nEnsure it is set to #available during creation."
        ]
      },
      "acceptanceCriteria": [
        "Creating a new listing results in `Listing.propertyStatus == #available` in the stored record and in the value returned by listing queries.",
        "This defaulting behavior applies to all listing-creation entry points (e.g., owner property creation flows, public submission flows, and any demo/seed listing creation logic if present).",
        "No other listing fields (including the existing `availability` field) are changed as part of this update."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single-actor Motoko canister; keep all logic in `backend/main.mo`.",
    "Use English for any user-facing text.",
    "Do not edit files under `frontend/src/components/ui` or any other frontend immutable paths listed in SYSTEM_CONTEXT.",
    "Do not implement any IST dual-confirmation, automatic status transitions, or booking-driven status updates; only set the initial default on creation."
  ],
  "nonGoals": [
    "Adding any new API for updating `propertyStatus` after creation.",
    "Implementing logic to automatically change `propertyStatus` based on bookings, approvals, unlocks, or other events.",
    "Changing or reinterpreting the existing `availability` model."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}